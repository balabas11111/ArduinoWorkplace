<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<title th:text="'&#x1F4CA;' + ${chartHeader}">Устройство</title>

	<th:block th:replace="templates :: headImports" ></th:block>
	
	
	<link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css" />
	<link rel="stylesheet" href="chart/Chart.css">
</head>

<body>
<header th:replace="templates :: MainPageHeader(url=${'listChart'}, text=${'Графики'})"></header>

	<div class="container">

		<h3 th:text="${chartHeader}"></h3>

		<p><h4>История значений</h4></p>

		<div th:replace="templates :: dateSelector"></div>

		<div id="sensorsContent" style="display: flex; flex-wrap: wrap;">
			<div th:each="entityName : ${Metrics.keySet()}" class="panel panel-default"
				style="width: 400px; float: left; min-width: 300px; margin: 5px;">
				<div th:text="${entityName}" class="panel-heading">Entity Heading</div>
				<div class="panel-body">
					<table id="devicesTable" class="table table-striped">
						<tbody>
							<tr th:each="entityField : ${Metrics.get(entityName)}">
								<td th:text="${entityField.emoji}">Emoji</td>
								<!--<td th:text="${entityField.getDescriptionByDescriptionField()}">description</td>-->
								<td><a th:href="@{~/entityField?id={entityFieldId}(entityFieldId=${entityField.id})}"
										th:text="${entityField.getDescriptionByDescriptionField()}">description</a></td>
								<td th:text="${entityField.getValueStr()}">value</td>
								<td th:text="${entityField.getMeasure()}">measure</td>
							</tr>
							<!--
							<tr th:each="entityField : ${Metrics.get(entityName)}">
								<td th:text="${entityField.emoji}">Emoji</td>
								<td><a th:href="@{~/entityField?id={entityFieldId}(entityFieldId=${entityField.id})}"
										th:text="${entityField.getDescriptionByDescriptionField()}">description</a>
								</td>
								<td th:text="${entityField.getEntityFieldEnabledValueByCurrentValue().getEmoji()} + ' (' + ${entityField.getEntityFieldEnabledValueByCurrentValue().getDescription()} + ')'">value</td>
								
							</tr>
							<tr th:each="entityAction : ${Metrics.get(entityName)}">
								<td>
									<a th:href="@{~/executeAction_{deviceId}_{entityId}_{action}_(deviceId=${device.id},entityId=${entityAction.getTargetId()},action=${entityAction.getData()})}"
										class="btn btn-default" th:text="${entityAction.getDescription()}">value</a>
									<a th:href="@{~/entityField?id={entityFieldId}(entityFieldId=${entityAction.getTargetId2()})}">История</a>
								</td>
							</tr>
							-->
						</tbody>
					</table>

				</div>
			</div>
		</div>

		<canvas id="chart1"></canvas>
	</div>

	<footer th:replace="templates :: footer"></footer>

	<th:block th:replace="templates :: imports"></th:block>
	
	<script th:inline="javascript">
		/*<![CDATA[*/
			var currentId = /*[[${chartId}]]*/;
			var redirectPreffix = "/entityField?id=";
		/*]]>*/
	</script>
	
	<th:block th:replace="templates :: importsChart"></th:block>
	
</body>

</html>