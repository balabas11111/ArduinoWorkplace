/*
 * ButtonB.h
 *
 *  Created on: 13 ���. 2018 �.
 *      Author: Vitaliy
 */

#ifndef LIBRARIES_TIMETRIGGER_WIFIHELPER_H_
#define LIBRARIES_TIMETRIGGER_WIFIHELPER_H_

#include "Arduino.h"
#include "EspSettingsBox.h"
#include "ActionListenerHelper.h"

class WiFiHelper{

public:
	WiFiHelper(EspSettingsBox *_settingsBox);
	void init();
	void connect();
	boolean isConnected();
	boolean connectIfNotConnected();

	void callback(char* topic, uint8_t* payload, unsigned int length);
	PubSubClient getClient();

private:
	EspSettingsBox *settingsBox;
	ActionListenerHelper *helper;
	PubSubClient client;
};


#endif /* LIBRARIES_TIMETRIGGER_MQTTHELPER_H_ */
